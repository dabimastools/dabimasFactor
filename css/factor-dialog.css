/* ========================================
   因子ダイアログ - 洗練されたデザイン
   ======================================== */

/* 洗練されたダイアログデザイン */
.refined-factor-dialog .v-card {
    border-radius: 16px !important;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15) !important;
    background-color: white !important;
}

.refined-factor-dialog .dialog-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 24px;
    border-radius: 16px 16px 0 0;
    color: white;
}

.refined-factor-dialog .horse-name-display {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
}

.refined-factor-dialog .horse-name-display .v-icon {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    padding: 8px;
}

.refined-factor-dialog .horse-name {
    font-size: 20px;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.refined-factor-dialog .dialog-subtitle {
    font-size: 13px;
    opacity: 0.9;
    margin-top: 4px;
}

.refined-factor-dialog .v-card__text {
    padding: 28px 24px !important;
}

.refined-factor-dialog .factor-selection-label {
    font-size: 15px;
    font-weight: 500;
    color: #424242;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.refined-factor-dialog .factor-selection-label .v-icon {
    color: #667eea;
}

.refined-factor-dialog .manual-factor-select {
    margin-top: 12px;
}

.refined-factor-dialog .manual-factor-chip {
    font-weight: 600;
    font-size: 14px;
    height: 36px !important;
    border-radius: 8px !important;
    margin: 4px;
}

.refined-factor-dialog .manual-factor-option {
    border-radius: 8px;
    margin: 4px 8px;
    transition: all 0.2s ease;
}

.refined-factor-dialog .manual-factor-option--selected {
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.refined-factor-dialog .v-card__actions {
    padding: 16px 24px 24px !important;
    gap: 12px;
}

.refined-factor-dialog .action-button {
    border-radius: 8px !important;
    text-transform: none !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
    padding: 0 24px !important;
    height: 44px !important;
}

.refined-factor-dialog .cancel-button {
    color: #757575 !important;
}

.refined-factor-dialog .confirm-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: white !important;
}

.refined-factor-dialog .selection-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: #f5f5f5;
    border-radius: 8px;
    margin-top: 16px;
    font-size: 13px;
    color: #616161;
}

.refined-factor-dialog .selection-info .v-icon {
    color: #667eea;
}

/* 因子ごとの色指定 - グローバルスコープ（ドロップダウンはダイアログ外に描画される） */
/* デフォルト：すべての選択肢は白背景 */
.v-menu__content .v-list-item.manual-factor-option {
    background: #ffffff !important;
    color: #000000 !important;
}

.v-menu__content .v-list-item.manual-factor-option:hover {
    background: #f5f5f5 !important;
}

/* 選択肢のフォントサイズを16pxに設定 */
.v-menu__content .v-list-item.manual-factor-option .v-list-item__title {
    font-size: 16px !important;
}

.v-menu__content .v-list-item.manual-factor-option .v-list-item__content {
    font-size: 16px !important;
}

/* より具体的なセレクタでVuetifyのデフォルトを上書き */
.manual-factor-menu .v-list-item.manual-factor-option .v-list-item__title {
    font-size: 16px !important;
}

.manual-factor-menu .v-list-item.manual-factor-option .v-list-item__content {
    font-size: 16px !important;
}

/* 選択肢の高さを調整 */
.v-menu__content .v-list-item.manual-factor-option {
    min-height: 28px !important;
    padding: 4px 16px !important;
}

.manual-factor-menu .v-list-item.manual-factor-option {
    min-height: 28px !important;
    padding: 4px 16px !important;
}

/* ドロップダウンメニュー全体の最大高さを設定 */
.manual-factor-menu.v-menu__content {
    max-height: 320px !important;
}

.v-menu__content.manual-factor-menu .v-list {
    padding: 8px 0 !important;
}

/* 選択された項目のみに色を適用 */
.v-menu__content .v-list-item.manual-factor-option.f01.v-list-item--active,
.manual-factor-chip.f01 {
    background: #fdfd00 !important;
    color: #000000 !important;
    text-shadow:
        1px 1px 0px #ffffff,
        -1px 1px 0px #ffffff,
        1px -1px 0px #ffffff,
        -1px -1px 0px #ffffff,
        1px 0px 0px #ffffff,
        0px 1px 0px #ffffff,
        -1px 0px 0px #ffffff,
        0px -1px 0px #ffffff !important;
}

.v-menu__content .v-list-item.manual-factor-option.f01.v-list-item--active:hover {
    background: #e5e500 !important;
    box-shadow: 0 2px 8px rgba(253, 253, 0, 0.4) !important;
}

.v-menu__content .v-list-item.manual-factor-option.f02.v-list-item--active,
.manual-factor-chip.f02 {
    background: #fdfda2 !important;
    color: #000000 !important;
    text-shadow:
        1px 1px 0px #ffffff,
        -1px 1px 0px #ffffff,
        1px -1px 0px #ffffff,
        -1px -1px 0px #ffffff,
        1px 0px 0px #ffffff,
        0px 1px 0px #ffffff,
        -1px 0px 0px #ffffff,
        0px -1px 0px #ffffff !important;
}

.v-menu__content .v-list-item.manual-factor-option.f02.v-list-item--active:hover {
    background: #e5e58a !important;
    box-shadow: 0 2px 8px rgba(253, 253, 162, 0.4) !important;
}

.v-menu__content .v-list-item.manual-factor-option.f03.v-list-item--active,
.manual-factor-chip.f03 {
    background: #fc6e00 !important;
    color: #000000 !important;
    text-shadow:
        1px 1px 0px #ffffff,
        -1px 1px 0px #ffffff,
        1px -1px 0px #ffffff,
        -1px -1px 0px #ffffff,
        1px 0px 0px #ffffff,
        0px 1px 0px #ffffff,
        -1px 0px 0px #ffffff,
        0px -1px 0px #ffffff !important;
}

.v-menu__content .v-list-item.manual-factor-option.f03.v-list-item--active:hover {
    background: #e35e00 !important;
    box-shadow: 0 2px 8px rgba(252, 110, 0, 0.4) !important;
}

.v-menu__content .v-list-item.manual-factor-option.f04.v-list-item--active,
.manual-factor-chip.f04 {
    background: #03fdfd !important;
    color: #000000 !important;
    text-shadow:
        1px 1px 0px #ffffff,
        -1px 1px 0px #ffffff,
        1px -1px 0px #ffffff,
        -1px -1px 0px #ffffff,
        1px 0px 0px #ffffff,
        0px 1px 0px #ffffff,
        -1px 0px 0px #ffffff,
        0px -1px 0px #ffffff !important;
}

.v-menu__content .v-list-item.manual-factor-option.f04.v-list-item--active:hover {
    background: #00e5e5 !important;
    box-shadow: 0 2px 8px rgba(3, 253, 253, 0.4) !important;
}

.v-menu__content .v-list-item.manual-factor-option.f09.v-list-item--active,
.manual-factor-chip.f09 {
    background: #a1a1a3 !important;
    color: #000000 !important;
    text-shadow:
        1px 1px 0px #ffffff,
        -1px 1px 0px #ffffff,
        1px -1px 0px #ffffff,
        -1px -1px 0px #ffffff,
        1px 0px 0px #ffffff,
        0px 1px 0px #ffffff,
        -1px 0px 0px #ffffff,
        0px -1px 0px #ffffff !important;
}

.v-menu__content .v-list-item.manual-factor-option.f09.v-list-item--active:hover {
    background: #8a8a8c !important;
    box-shadow: 0 2px 8px rgba(161, 161, 163, 0.4) !important;
}

.v-menu__content .v-list-item.manual-factor-option.f10.v-list-item--active,
.manual-factor-chip.f10 {
    background: #fc00fc !important;
    color: #000000 !important;
    text-shadow:
        1px 1px 0px #ffffff,
        -1px 1px 0px #ffffff,
        1px -1px 0px #ffffff,
        -1px -1px 0px #ffffff,
        1px 0px 0px #ffffff,
        0px 1px 0px #ffffff,
        -1px 0px 0px #ffffff,
        0px -1px 0px #ffffff !important;
}

.v-menu__content .v-list-item.manual-factor-option.f10.v-list-item--active:hover {
    background: #e300e3 !important;
    box-shadow: 0 2px 8px rgba(252, 0, 252, 0.4) !important;
}

/* Vuetifyのホバー効果を無効化 */
.v-menu__content .v-list-item.manual-factor-option::before {
    opacity: 0 !important;
}

.v-menu__content .v-list-item.manual-factor-option .v-ripple__container {
    opacity: 0 !important;
}
/* 因子ダイアログ専用のアイコンスタイル */
.refined-factor-dialog .v-input__icon {
    align-items: center;
    display: inline-flex;
    height: 24px;
    flex: 1 0 auto;
    justify-content: center;
    min-width: 12px;
    width: 24px;
}

.refined-factor-dialog .v-icon.v-icon {
    align-items: center;
    display: inline-flex;
    font-feature-settings: "liga";
    font-size: 36px;
    justify-content: center;
    letter-spacing: normal;
    line-height: 1;
    position: relative;
    text-indent: 0;
    transition: .3s cubic-bezier(.25, .8, .5, 1), visibility 0s;
    vertical-align: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}